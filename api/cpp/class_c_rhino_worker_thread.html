<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rhino C++ API: CRhinoWorkerThread Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rhino C++ API
   &#160;<span id="projectnumber">8.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_c_rhino_worker_thread-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CRhinoWorkerThread Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group___rhino.html">Rhino</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;RhinoSdkWorkerThread.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa38e481091757195cb45eea197ade221"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#aa38e481091757195cb45eea197ade221">CRhinoWorkerThread</a> ()</td></tr>
<tr class="separator:aa38e481091757195cb45eea197ade221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51fcc399b18cb44d6029f3c578923542"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a51fcc399b18cb44d6029f3c578923542">~CRhinoWorkerThread</a> ()</td></tr>
<tr class="separator:a51fcc399b18cb44d6029f3c578923542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8344c830ddd47da94eeabcb1fac7d72"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#aa8344c830ddd47da94eeabcb1fac7d72">CleanUpRuntimeCaches</a> (bool bDelete)=0</td></tr>
<tr class="separator:aa8344c830ddd47da94eeabcb1fac7d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8ee2c66c8bf1cbb3c266efe1f4a154"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a2c8ee2c66c8bf1cbb3c266efe1f4a154">Run</a> (const wchar_t *sCommandLineMessage)</td></tr>
<tr class="separator:a2c8ee2c66c8bf1cbb3c266efe1f4a154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902159dba65582065d2ce605be4cc887"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker</a> ()=0</td></tr>
<tr class="separator:a902159dba65582065d2ce605be4cc887"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2d10014ef296b4ecfa0824de06e941af"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a2d10014ef296b4ecfa0824de06e941af">CancelWorker</a> ()</td></tr>
<tr class="separator:a2d10014ef296b4ecfa0824de06e941af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9617f5b50e3a97ebade60d83f804ec5b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a9617f5b50e3a97ebade60d83f804ec5b">DecrementFakeWorkerThreads</a> (void)</td></tr>
<tr class="separator:a9617f5b50e3a97ebade60d83f804ec5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d18560890dc4603ecbe193b32ad88c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a25d18560890dc4603ecbe193b32ad88c">EnableWorkerThreads</a> (int bEnable=true)</td></tr>
<tr class="separator:a25d18560890dc4603ecbe193b32ad88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882a813616d346323625d64d37d7675f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a882a813616d346323625d64d37d7675f">IncrementFakeWorkerThreads</a> (void)</td></tr>
<tr class="separator:a882a813616d346323625d64d37d7675f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562e4ef4e9404c9c90a4b69ede2e15da"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a562e4ef4e9404c9c90a4b69ede2e15da">IsRunning</a> ()</td></tr>
<tr class="separator:a562e4ef4e9404c9c90a4b69ede2e15da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188530b09c59bb302aad88f8de8695ef"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a188530b09c59bb302aad88f8de8695ef">KeepRunning</a> ()</td></tr>
<tr class="separator:a188530b09c59bb302aad88f8de8695ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5d2947812c914621a28d69199cc782"><td class="memItemLeft" align="right" valign="top">static ON__UINT_PTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#abf5d2947812c914621a28d69199cc782">ThreadId</a> ()</td></tr>
<tr class="separator:abf5d2947812c914621a28d69199cc782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b675bf81e720f96d90554a210b47bec"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__open_n_u_r_b_s.html#ga3070fac2d31e2883c3cb87a6c62bb75a">ON__UINT64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a0b675bf81e720f96d90554a210b47bec">WorkerContextSerialNumber</a> ()</td></tr>
<tr class="separator:a0b675bf81e720f96d90554a210b47bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9294bc5bc097c026f66020db92ca18a4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_rhino_worker_thread.html#a9294bc5bc097c026f66020db92ca18a4">WorkerThreadsEnabled</a> ()</td></tr>
<tr class="separator:a9294bc5bc097c026f66020db92ca18a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa38e481091757195cb45eea197ade221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa38e481091757195cb45eea197ade221">&#9670;&nbsp;</a></span>CRhinoWorkerThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CRhinoWorkerThread::CRhinoWorkerThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a51fcc399b18cb44d6029f3c578923542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51fcc399b18cb44d6029f3c578923542">&#9670;&nbsp;</a></span>~CRhinoWorkerThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CRhinoWorkerThread::~CRhinoWorkerThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2d10014ef296b4ecfa0824de06e941af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d10014ef296b4ecfa0824de06e941af">&#9670;&nbsp;</a></span>CancelWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CRhinoWorkerThread::CancelWorker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Description: Call <a class="el" href="class_c_rhino_worker_thread.html#a2d10014ef296b4ecfa0824de06e941af">CancelWorker()</a> to cancel a worker thread. If a dialog runs a time consuming task, then you may want to add a cancel button to the dialog and call <a class="el" href="class_c_rhino_worker_thread.html#a2d10014ef296b4ecfa0824de06e941af">CRhinoWorkerThread::CancelWorker</a> if the user presses that button. Remarks: If <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> is running in a thread, this sets the thread's memory pool flags so ExitThread() will be called on next <a class="el" href="group__open_n_u_r_b_s.html#gacadf2b280c0895b23634d3ad33a6a04b">onmalloc()</a>, <a class="el" href="group__open_n_u_r_b_s.html#gafd9f0e22bf0d4c895439915f21e3398d">oncalloc()</a>, <a class="el" href="group__open_n_u_r_b_s.html#ga4a8fe5a63aa8db84884b76d53e32b74b">onrealloc()</a>, <a class="el" href="group__open_n_u_r_b_s.html#ga11bd5c38846c84d11a00bd1b1cd31e61">onfree()</a>, new, or delete. </p>

</div>
</div>
<a id="aa8344c830ddd47da94eeabcb1fac7d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8344c830ddd47da94eeabcb1fac7d72">&#9670;&nbsp;</a></span>CleanUpRuntimeCaches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CRhinoWorkerThread::CleanUpRuntimeCaches </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bDelete</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Description: Cleans up runtime caches that exist on any objects whose memory belongs on the main thread stack or heap but whose runtime cache may be created in worker thread's stack or worker heap. Basically, this function needs to call the <a class="el" href="class_o_n___object.html#af8435c33ab53af41c22dac75e8917569">ON_Object::DestroyRuntimeCache()</a> member functions of breps, curves and surfaces that exist in the main thread's stack or heap but are used in closest point or intersection calculations performed in the <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> function.</p>
<p>Parameters: bDelete - [in] pass this parameter on to the ON_Object::DestroyRuntimeCache(bDelete) function. Basically, if bDelete is true, then you should free/delete runtime cache information that is on the heap. If bDelete is false, then you should simply zero out pointers on main heap/stack classes that point to memory allocated from the worker pool. If this is confusing, then you need to get help before you check in anything using cancel threads.</p>
<p>Remarks: It is critical to do this right. If you don't we end up with hrd to repeat crashes that happen one to many commands after the actual cancel event.</p>
<p>This function is pure virtual so that any developer using a cancel thread is forced to think about cleaning up runtime memory caches. If you are at all confused, then please ask for help or do not use cancel threads.</p>
<p>Test thoroughly before checking in. </p>

</div>
</div>
<a id="a9617f5b50e3a97ebade60d83f804ec5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9617f5b50e3a97ebade60d83f804ec5b">&#9670;&nbsp;</a></span>DecrementFakeWorkerThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CRhinoWorkerThread::DecrementFakeWorkerThreads </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a25d18560890dc4603ecbe193b32ad88c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d18560890dc4603ecbe193b32ad88c">&#9670;&nbsp;</a></span>EnableWorkerThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CRhinoWorkerThread::EnableWorkerThreads </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bEnable</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Description: By default, worker threads are enabled. If you need to user Purify or debug something that happens in a <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">CRhinoWorkerThread::Worker</a> override, then call CRhinoWorkerThread::EnableWorkerThreads(FALSE) and your task will be much easier. See Also: <a class="el" href="class_c_rhino_worker_thread.html#a9294bc5bc097c026f66020db92ca18a4">CRhinoWorkerThread::WorkerThreadsEnabled</a> </p>

</div>
</div>
<a id="a882a813616d346323625d64d37d7675f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882a813616d346323625d64d37d7675f">&#9670;&nbsp;</a></span>IncrementFakeWorkerThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CRhinoWorkerThread::IncrementFakeWorkerThreads </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Description: These functions are used when a custom built worker-thread style mechanism is running, and the developer wants Rhino to act as though a real worker thread is running. The UI will be disabled and views will not draw. Of course, it is absolutely essential that these functions are called in pairs. </p>

</div>
</div>
<a id="a562e4ef4e9404c9c90a4b69ede2e15da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562e4ef4e9404c9c90a4b69ede2e15da">&#9670;&nbsp;</a></span>IsRunning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool CRhinoWorkerThread::IsRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>static function interface to the query and manage the thread. There may be nested calls to CWorkerThread::Run but there is only a single Windows worker thread at any one time. Returns: <br  />
 TRUE if a worker thread is running. </p>

</div>
</div>
<a id="a188530b09c59bb302aad88f8de8695ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a188530b09c59bb302aad88f8de8695ef">&#9670;&nbsp;</a></span>KeepRunning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool CRhinoWorkerThread::KeepRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Description: Call this function in <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> member functions that that do not regularly allocate memory. <br  />
 Example: </p><pre class="fragment">    for(...)
    {
</pre><p> / loop with LOTS of calculation and no memory allocation if ( !CRhinoWorkerThread::KeepRunning() ) { / thread will die soon, just bail out return; } }</p>
<p>Returns: TRUE if you should keep going. FALSE if you should bail out. </p>

</div>
</div>
<a id="a2c8ee2c66c8bf1cbb3c266efe1f4a154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c8ee2c66c8bf1cbb3c266efe1f4a154">&#9670;&nbsp;</a></span>Run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CRhinoWorkerThread::Run </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>sCommandLineMessage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Description: Runs the <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> task in a thread that the user can cancel by pressing the "Esc" key. Returns: TRUE if <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> ask runs to completion. FALSE if <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> task is canceled. See Also: <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">CRhinoWorkerThread::Worker</a> </p>

</div>
</div>
<a id="abf5d2947812c914621a28d69199cc782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf5d2947812c914621a28d69199cc782">&#9670;&nbsp;</a></span>ThreadId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ON__UINT_PTR CRhinoWorkerThread::ThreadId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns; Worker thread id or zero. </p>

</div>
</div>
<a id="a902159dba65582065d2ce605be4cc887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902159dba65582065d2ce605be4cc887">&#9670;&nbsp;</a></span>Worker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CRhinoWorkerThread::Worker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Description: Override Worker to perform time consuming calculations that the user can immediately cancel by pressing the "Esc" key. Use member variables in your derived class to pass information in and out of your Worker function. Example: </p><pre class="fragment">    class CMyWorker : public CRhinoWorkerThread
    {
    public:
      CMyWorker();
      ~CMyWorker();
      void Worker();
</pre><p> / override of pure virtual runtime cache cleaner void <a class="el" href="class_c_rhino_worker_thread.html#aa8344c830ddd47da94eeabcb1fac7d72">CleanUpRuntimeCaches( bool bDelete )</a>;</p>
<p>/ use member variables to pass information to/from worker };</p>
<p>void CMyWorker::Worker() { / NEVER EVER Call ExitThread() in your worker function!!!</p>
<p>/ See the <a class="el" href="class_c_rhino_worker_thread.html#a188530b09c59bb302aad88f8de8695ef">CRhinoWorkerThread::KeepRunning()</a> example if / if you have a time consuming loop with no memory / allocation. </p><pre class="fragment">        ...
      }

      void CMyWorker::CleanUpRuntimeCaches( bool bDelete )
      {
</pre><p> / Call the virtual ON_Object::DestroyRuntimeCache(bDelete) / on object that are in the main thread.</p>
<p>/ Be sure to get this right, or we get hard to trace / crashes that happen in other places after a cancel. } ...</p>
<p>{ ... CMyWorker worker; ... BOOL32 bCompletedTask = worker.Run( RhLocalizeString( L"Calculating widget hyperextension coefficient", 43572) ); if ( !bCompletedTask ) { / User canceled task - carefully destroy worker } else { / harvest results from worker membr variables } }</p>
<p>Remarks: Do NOT create dialogs and do NOT call Rhino SDK functions in a <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> function except for those listed below.</p>
<p>You may call the following Rhino SDK functions in a Worker function: <a class="el" href="class_c_rhino_app.html#a32a124baf6209ba2639a14b197c856c0" title="Print formatted text in the command window.">CRhinoApp.Print</a> <a class="el" href="class_c_rhino_doc.html#afe28ae3ec23fa0e753d5d9baf7b57682">CRhinoDoc::AddPointObject</a> <a class="el" href="class_c_rhino_doc.html#a7898b22890e0436c2fc7a297dc2bb459">CRhinoDoc::AddPointCloudObject</a> <a class="el" href="class_c_rhino_doc.html#af0d7704626bc1bd6ec13cc22319c4448">CRhinoDoc::AddCurveObject</a> <a class="el" href="class_c_rhino_doc.html#a8b4ce5764e1200ea4ef5162d5ddb36d0">CRhinoDoc::AddSurfaceObject</a> <a class="el" href="class_c_rhino_doc.html#a2edac229a96c617a9377224da656eefd">CRhinoDoc::AddMeshObject</a> <a class="el" href="class_c_rhino_doc.html#afc65698d06b7e8bc13bcc8fb7c7b8ead">CRhinoDoc::AddBrepObject</a></p>
<p>Other than adding objects, don't mess with the document, application, or views in a <a class="el" href="class_c_rhino_worker_thread.html#a902159dba65582065d2ce605be4cc887">Worker()</a> function. </p>

</div>
</div>
<a id="a0b675bf81e720f96d90554a210b47bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b675bf81e720f96d90554a210b47bec">&#9670;&nbsp;</a></span>WorkerContextSerialNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__open_n_u_r_b_s.html#ga3070fac2d31e2883c3cb87a6c62bb75a">ON__UINT64</a> CRhinoWorkerThread::WorkerContextSerialNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns; Worker thread id or zero. </p>

</div>
</div>
<a id="a9294bc5bc097c026f66020db92ca18a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9294bc5bc097c026f66020db92ca18a4">&#9670;&nbsp;</a></span>WorkerThreadsEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool CRhinoWorkerThread::WorkerThreadsEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns: TRUE if the use of worker threads is enabled. FALSE if the use of worker threads has been disabled. Remarks: By default, the use of worker threads is enabled. When using Purify or doing delicate debugging of a Worker function, disabling the use of separate threads can be helpful. See Also: <a class="el" href="class_c_rhino_worker_thread.html#a25d18560890dc4603ecbe193b32ad88c">CRhinoWorkerThread::EnableWorkerThreads</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 12 2023 16:26:54 for Rhino C++ API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
