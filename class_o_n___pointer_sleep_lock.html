<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rhino C++ API: ON_PointerSleepLock Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rhino C++ API<span id="projectnumber">&#160;7.16</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_o_n___pointer_sleep_lock-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ON_PointerSleepLock Class Reference<div class="ingroups"><a class="el" href="group__open_n_u_r_b_s.html">OpenNURBS</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;opennurbs_plus_sleeplock.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a77261af13d5c1d71dc0e691c4f5626cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_n___pointer_sleep_lock.html#a77261af13d5c1d71dc0e691c4f5626cd">ON_PointerSleepLock</a> ()=default</td></tr>
<tr class="separator:a77261af13d5c1d71dc0e691c4f5626cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e1bc18e8730b229f170fbdb713ee28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_n___pointer_sleep_lock.html#a70e1bc18e8730b229f170fbdb713ee28">~ON_PointerSleepLock</a> ()=default</td></tr>
<tr class="separator:a70e1bc18e8730b229f170fbdb713ee28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1156c0cf70f557d6f88095505fb86501"><td class="memItemLeft" align="right" valign="top">ON__UINT_PTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_n___pointer_sleep_lock.html#a1156c0cf70f557d6f88095505fb86501">GetPointerOrLock</a> (ON__UINT_PTR *address_of_shared_resource_ptr, unsigned int interval_wait_msecs, unsigned int max_wait_msecs, bool bStealLockAfterWaiting)</td></tr>
<tr class="separator:a1156c0cf70f557d6f88095505fb86501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f2b88a6ff3c6bd3fb67868bfd5f118"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_n___pointer_sleep_lock.html#aa4f2b88a6ff3c6bd3fb67868bfd5f118">SetPointerAndUnlock</a> (ON__UINT_PTR valid_shared_resource_ptr)</td></tr>
<tr class="separator:aa4f2b88a6ff3c6bd3fb67868bfd5f118"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a77261af13d5c1d71dc0e691c4f5626cd" name="a77261af13d5c1d71dc0e691c4f5626cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77261af13d5c1d71dc0e691c4f5626cd">&#9670;&nbsp;</a></span>ON_PointerSleepLock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ON_PointerSleepLock::ON_PointerSleepLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >You should put your <a class="el" href="class_o_n___pointer_sleep_lock.html">ON_PointerSleepLock</a> on the stack. <br  />
 Using managed memory to construct / destruct these locks is a good way to lock something important and loose the key. </p>

</div>
</div>
<a id="a70e1bc18e8730b229f170fbdb713ee28" name="a70e1bc18e8730b229f170fbdb713ee28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70e1bc18e8730b229f170fbdb713ee28">&#9670;&nbsp;</a></span>~ON_PointerSleepLock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ON_PointerSleepLock::~ON_PointerSleepLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1156c0cf70f557d6f88095505fb86501" name="a1156c0cf70f557d6f88095505fb86501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1156c0cf70f557d6f88095505fb86501">&#9670;&nbsp;</a></span>GetPointerOrLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ON__UINT_PTR ON_PointerSleepLock::GetPointerOrLock </td>
          <td>(</td>
          <td class="paramtype">ON__UINT_PTR *&#160;</td>
          <td class="paramname"><em>address_of_shared_resource_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>interval_wait_msecs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_wait_msecs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bStealLockAfterWaiting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Description: Gets the lock using a the specified waiting interval and maximum waiting time. Parameters: address_of_shared_resource_ptr - [in] The address of a shared resource pointer cast as (ON__UINT_PTR*).</p>
<p >interval_wait_msecs - [in] number of milliseconds to wait between checking for the lock. If interval_wait_msecs is 0, then 50 is used. If interval_wait_msecs &gt; max_wait_msecs &gt; 0, then one attempt is made to get the lock.</p>
<p >max_wait_msecs - [in] maximum number of milliseconds to wait for lock. If max_wait_msecs is 0, then no maximum wating time is used.</p>
<p >bStealLockAfterWaiting - [in] Steal the lock if the resource is not available after the maximum waiting time expires.</p>
<p >Returns: 0: The shared resource is locked by another process and the maximum waiting time expired.</p>
<p >1: The shared resource pointer was nullptr and is now locked or the maximum waiting time expired and bStealLockAfterWaiting was true. You need to create the resource as quickly as possible and call <a class="el" href="class_o_n___pointer_sleep_lock.html#aa4f2b88a6ff3c6bd3fb67868bfd5f118">SetPointerAndUnlock()</a> with a pointer to the new resource.</p>
<p >If GetLock() returns 1, then you must call <a class="el" href="class_o_n___pointer_sleep_lock.html#aa4f2b88a6ff3c6bd3fb67868bfd5f118">SetPointerAndUnlock()</a>. Remarks: It is easy and clear to people reading your code if you use values like <a class="el" href="class_o_n___sleep_lock.html#aae111e367f50b8b18257027ca18685aaa1b5b7f611e90fe15b35d4c073590c431">ON_SleepLock::OneSecond</a>, ON_SleepLock::ThirtySeconds, <a class="el" href="class_o_n___sleep_lock.html#aae111e367f50b8b18257027ca18685aaafa38a0cbe2c1e3b37c233204979f9226">ON_SleepLock::OneMinute</a>, 47*ON_SleepLock::OneSecond or <a class="el" href="class_o_n___sleep_lock.html#aae111e367f50b8b18257027ca18685aaafa38a0cbe2c1e3b37c233204979f9226">ON_SleepLock::OneMinute</a>/3 to specify the values for interval_wait_msecs and max_wait_msecs.</p>
<p >Example:</p>
<p >const ON_3dPoint* SharedResourcePointAt123() { static ON_3dPoint* shared_resource = nullptr;</p>
<p ><a class="el" href="class_o_n___pointer_sleep_lock.html">ON_PointerSleepLock</a> lock;</p>
<p >ON__UINT_PTR ptr = lock.GetLock( (ON__UINT_PTR*)&amp;shared_resource, ... );</p>
<p >if ( 1 == ptr ) { / Create the shared resource ON_3dPoint* valid_point = new <a class="el" href="class_o_n__3d_point.html">ON_3dPoint(1,2,3)</a>; lock.ReturnLock( (ON__UINT_PTR)valid_point ); }</p>
<p >return shared_resource; } </p>

</div>
</div>
<a id="aa4f2b88a6ff3c6bd3fb67868bfd5f118" name="aa4f2b88a6ff3c6bd3fb67868bfd5f118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f2b88a6ff3c6bd3fb67868bfd5f118">&#9670;&nbsp;</a></span>SetPointerAndUnlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ON_PointerSleepLock::SetPointerAndUnlock </td>
          <td>(</td>
          <td class="paramtype">ON__UINT_PTR&#160;</td>
          <td class="paramname"><em>valid_shared_resource_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Description: Unconditionally returns the lock. Returns: True if a lock was released. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 10 2022 10:13:52 for Rhino C++ API by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
